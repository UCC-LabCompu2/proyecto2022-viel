<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Calculo del IMC</title>
    <link rel="shortcut icon" href="imagenes/favicon.jpg">

    <style>
        body{
            background: linear-gradient(to right, #0c7900, #009696);
        }
        h1{
            color: #ffffff;
        }
        div{
            color: #ffffff;
        }
        label{
            color: #ffffff;
        }
        /*Canvas*/
        .tipo{
            border: 1px solid #ffffff;
            background: rgba(240, 255, 105, 0.47);
        }
    </style>
</head>

<body>
<header>
    <h1><b> Calcular el IMC</b></h1>
</header>
<label for="peso">Peso: </label>
<input type="text" id="peso" maxlength="5" minlength="2"onkeypress='return event.charCode >= 48 && event.charCode <= 57'/>
<label for="peso">Kg</label>
<p>

    <label for="altura">Altura: </label>
    <input type="text" id="altura" maxlength="4" minlength="4"onkeypress='return event.charCode >= 48 && event.charCode <= 57' />
    <label for="altura">Centimetros</label>

<div class="res">
    <button type="button" value="Calcular" onclick="calcular();"> Calcular </button>
</div>
</form>
<script>
    /*Calcula el IMC*/
    function calcular() {
        var num1 = parseInt(document.getElementById('peso').value);
        var num2 = parseInt(document.getElementById('altura').value);
        var suma = (num1 / (num2 * num2) * 10000).toFixed(2);

        /*Aviso por si falta algun valor*/
        if(suma=="NaN" || num1<0 || num2<0){
            alert('Falta agregar valor');
        }else{
            alert('Tu IMC es: ' + suma);
        }
        console.log(suma);

        /*Imagen en el canvas dependiendo del resutado de la var suma*/
        var canvas = document.getElementById("MyCanvas");
        var ctx = canvas.getContext("2d");
        var img = new Image();

        canvas.width = canvas.width;

        if(suma<18.5){
            img.src = "imagenes/Inferior.jpg";
            img.onload = function (){
                ctx.drawImage(img, 0, 0);
            }
        }else if(suma<24.9){
            img.src = "imagenes/Saludable.jpg";
            img.onload = function (){
                ctx.drawImage(img, 0, 0);
            }
        }else if(suma<29.9){
            img.src = "imagenes/Sobrepeso.jpg";
            img.onload = function (){
                ctx.drawImage(img, 0, 0);
            }
        }else if(suma=>30) {
            img.src = "imagenes/Obesidad.jpg";
            img.onload = function () {
                ctx.drawImage(img, 0, 0);
            }
        }


    }
</script>

<div>
    <p></p>
    <table>
        <thead>
        <tr>
            <th>Composicion Corporal</th>
            <th>IMC</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>Peso inferior al normal</td>
            <td>Menos de 18.5</td>
        </tr>
        <tr>
            <td>Normal</td>
            <td>18.5 – 24.9</td>
        </tr>
        <tr>
            <td>Peso superior al normal</td>
            <td>25.0 – 29.9</td>
        </tr>
        <tr>
            <td>Obesidad</td>
            <td>Más de 30.0</td>
        </tr>
        </tbody>
    </table>
</div>
</font>

<canvas id="MyCanvas" class="tipo" width="320px" height="250px">
    Tu navegador no soporta el tag de HTML5 canvas.
</canvas>

</body>
</html>